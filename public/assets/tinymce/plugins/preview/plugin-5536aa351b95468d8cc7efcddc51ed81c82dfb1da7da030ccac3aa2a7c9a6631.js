!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,r=n.defn,d=o.length,a=new Array(d),c=0;c<d;++c)a[c]=i(o[c]);var s=r.apply(null,a);if(void 0===s)throw"module ["+t+"] returned undefined";n.instance=s},n=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),r=0;r<n;++r)o.push(i(e[r]));t.apply(null,t)};({}).bolt={module:{api:{define:n,require:o,demand:i}}};var r=n;(function(e,t){r(e,[],function(){return t})})("4",tinymce.util.Tools.resolve),r("1",["4"],function(e){return e("tinymce.PluginManager")}),r("2",["4"],function(e){return e("tinymce.Env")}),r("3",["4"],function(e){return e("tinymce.util.Tools")}),r("0",["1","2","3"],function(e,t,n){return e.add("preview",function(e){var i=e.settings,o=!t.ie;e.addCommand("mcePreview",function(){e.windowManager.open({title:"Preview",width:parseInt(e.getParam("plugin_preview_width","650"),10),height:parseInt(e.getParam("plugin_preview_height","500"),10),html:'<iframe src="javascript:\'\'" frameborder="0"'+(o?' sandbox="allow-scripts"':"")+"></iframe>",buttons:{text:"Close",onclick:function(){this.parent().parent().close()}},onPostRender:function(){var t,r="",d=e.dom.encode;r+='<base href="'+d(e.documentBaseURI.getURI())+'">',n.each(e.contentCSS,function(t){r+='<link type="text/css" rel="stylesheet" href="'+d(e.documentBaseURI.toAbsolute(t))+'">'});var a=i.body_id||"tinymce";-1!=a.indexOf("=")&&(a=e.getParam("body_id","","hash"),a=a[e.id]||a);var c=i.body_class||"";-1!=c.indexOf("=")&&(c=e.getParam("body_class","","hash"),c=c[e.id]||"");var s=e.settings.directionality?' dir="'+e.settings.directionality+'"':"";if(t="<!DOCTYPE html><html><head>"+r+'</head><body id="'+d(a)+'" class="mce-content-body '+d(c)+'"'+d(s)+">"+e.getContent()+'<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A") {e.preventDefault();}}}, false);</script> </body></html>',o)this.getEl("body").firstChild.src="data:text/html;charset=utf-8,"+encodeURIComponent(t);else{var l=this.getEl("body").firstChild.contentWindow.document;l.open(),l.write(t),l.close()}}})}),e.addButton("preview",{title:"Preview",cmd:"mcePreview"}),e.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})}),function(){}}),i("0")()}();